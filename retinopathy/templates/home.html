{% extends "layout.html" %}

{% block content %}
    <style>
        /* * This keyframe defines the 15-second cycle for EACH slide (6 states * 2.5s).
         * Each state "pauses" for 2s (13.33% of 15s) and "transitions" for 0.5s (3.33% of 15s).
        */
        @keyframes slide-cycle {
            /* STATE 1: ACTIVE (CENTER) - Stays 2s, transitions 0.5s */
            0% {
                transform: translateX(0) scale(1.05) translateZ(0);
                filter: blur(0px); opacity: 1; z-index: 10;
            }
            12.5% { 
                transform: translateX(0) scale(1.05) translateZ(0);
                filter: blur(0px); opacity: 1; z-index: 10; 
            } 
            
            /* STATE 2: ADJACENT (RIGHT) - Stays 2s, transitions 0.5s */
            25% { /* Arrived at Right state */
                /* CHANGED: Increased translateX from 120px to 180px */
                transform: translateX(500px) scale(0.9) translateZ(-80px);
                filter: blur(8px); opacity: 0.7; z-index: 5;
            }
            37.5% { 
                transform: translateX(500px) scale(0.9) translateZ(-80px);
                filter: blur(8px); opacity: 0.7; z-index: 5;
            }

            /* STATE 3: HIDDEN (RIGHT) - Stays 2s, transitions 0.5s */
            /* 33.33% { 
                transform: translateX(240px) scale(0.8) translateZ(-170px);
                filter: blur(4px); opacity: 0.3; z-index: 3;
            }
                /*
            46.66% {
                transform: translateX(240px) scale(0.8) translateZ(-170px);
                filter: blur(4px); opacity: 0.3; z-index: 3;
            } */

            /* STATE 4: HIDDEN (BACK) - Stays 2s, transitions 0.5s */
            50% { 
                transform: translateX(0px) scale(0.7) translateZ(0px);
                filter: blur(6px); opacity: 0; z-index: 10;
            }
            62.5% { 
                transform: translateX(0px) scale(0.7) translateZ(0px);
                filter: blur(6px); opacity: 0; z-index: 10;
            }

            /* STATE 5: HIDDEN (LEFT) - Stays 2s, transitions 0.5s */
            /* 66.66% {
                transform: translateX(-240px) scale(0.8) translateZ(-170px);
                filter: blur(4px); opacity: 0.3; z-index: 3;
            }
            80% { 
                transform: translateX(-240px) scale(0.8) translateZ(-170px);
                filter: blur(4px); opacity: 0.3; z-index: 3;
            } */

            /* STATE 6: ADJACENT (LEFT) - Stays 2s, transitions 0.5s */
            75% { /* Arrived at Left state */
                /* CHANGED: Increased translateX from -120px to -180px */
                transform: translateX(-500px) scale(0.9) translateZ(-80px);
                filter: blur(8px); opacity: 0.7; z-index: 5;
            }
            87.5% { 
                transform: translateX(-500px) scale(0.9) translateZ(-80px);
                filter: blur(8px); opacity: 0.7; z-index: 5;
            }

            /* Back to STATE 1 */
            100% { /* Arrived at Active state */
                transform: translateX(0) scale(1.05) translateZ(0);
                filter: blur(0px); opacity: 1; z-index: 10;
            }
        }

        /* * This class applies the animation to all slides.
         * Slides are positioned absolutely to stack them.
        */
        .slide-item {
            position: absolute;
            /* Center the slide in the parent */
            top: 100px;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
            
            /* Set a fixed height for the cards */
            height: 500px; /* You can adjust this value */
            width: 500px;
            background-size:auto;
            background-position: center;    

            animation: slide-cycle 8s linear infinite; ;
            transition: all 0.5s ease-in-out;
            transform-style: preserve-3d;
            animation-delay: 3s;
            /* Start RUNNING to play on page load */
            animation-play-state: running;
        }

        #slide-1 { animation-delay: 0s; }     /* Starts Active (0s) */
        #slide-2 { animation-delay: -6s; } /* Starts Right (at 25%) */
        #slide-3 { animation-delay: -4s; }  /* Starts Hidden Back (at 50%) */
        #slide-4 { animation-delay: -2s; }  /* Starts Left (at 75%) */


        /* * This PAUSES the animation when you hover over
         * the '.slider-container'.
        */
        .slider-container:hover .slide-item {
            animation-play-state: paused;
        }
    </style>
</head>
<body class="font-sans bg-gray-200">
    <section class="bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
            <div class="grid grid-cols-1 gap-12 items-center">
                
                <!-- This is your existing first grid column --><div>
                    <h1 class="mt-4 text-4xl lg:text-5xl font-extrabold text-gray-900 leading-tight">
                        AI-Driven Retinopathy Analysis for Diabetes Monitoring
                    </h1>
                    <p class="mt-6 text-lg text-gray-800">
                        Our advanced AI system provides fast, accurate, and non-invasive diabetic level predictions from retinal images. Empowering clinicians, improving patient outcomes.
                    </p>
                </div>
                
                
                    
                    <!-- 
                      This wrapper pauses/plays the animation on hover.
                      - 'transform-style' preserves the 3D animation.
                      - 'position: relative' and 'h-96' give the slides a space to live in.
                    --><div class="slider-container relative h-96 mb-32" style="transform-style: preserve-3d;">
                        <!-- 
                          This div is no longer a flex container.
                          It just holds the slides, which will be positioned absolutely.
                        --><div class="h-full py-4">
                            
                            <!-- 
                              Slide 1
                              - Removed padding, added overflow-hidden
                            --><div class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 bg-gray-800 rounded-lg shadow-lg slide-item overflow-hidden" id="slide-1">
                                <img src="static/images/graph1.jpg" alt="Demo Image 1" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/333/ccc?text=Image+Error'">
                            </div>
                            
                            <!-- Slide 2 --><div class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 bg-gray-800 rounded-lg shadow-lg slide-item overflow-hidden" id="slide-2">
                                <img src="static/images/graph2.jpg" alt="Demo Image 2" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/333/ccc?text=Image+Error'">
                            </div>
                            
                            <!-- Slide 3 --><div class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 bg-gray-800 rounded-lg shadow-lg slide-item overflow-hidden" id="slide-3">
                                <img src="static/images/graph3.jpg" alt="Demo Image 3" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/333/ccc?text=Image+Error'">
                            </div>

                            <!-- Slide 4 --><div class="w-3/4 sm:w-1/2 md:w-1/3 lg:w-1/4 bg-gray-800 rounded-lg shadow-lg slide-item overflow-hidden" id="slide-4">
                                <img src="static/images/graph4.jpg" alt="Demo Image 4" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/400x300/333/ccc?text=Image+Error'">
                            </div>

                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    
    <section class="py-16 bg-white mx-auto">
        <div class="container px-4 sm:px-6 lg:px-8 bg-teal-900 w-640 rounded-lg py-16">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-white">A Simple 3-Step Workflow</h2>
            </div>
            <div class="mt-12 max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-center relative">
                <div class="hidden md:block absolute top-1/2 left-0 right-0 h-0.5 bg-gray-200" style="transform: translateY(-40px);"></div>
                
                <div class="relative z-10 text-white">
                    <div class="flex items-center justify-center h-20 w-20 rounded-full bg-primary-light text-primary mx-auto">
                        <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" /></svg>
                    </div>
                    <h3 class="mt-4 text-xl font-semibold">1. Upload Image</h3>
                    <p class="mt-2 text-white">Securely upload a retinal fundus image from any compatible device or EHR system.</p>
                </div>
                <div class="relative z-10 text-white">
                    <div class="flex items-center justify-center h-20 w-20 rounded-full bg-primary-light text-primary mx-auto">
                        <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" /></svg>
                    </div>
                    <h3 class="mt-4 text-xl font-semibold text-white">2. AI Analysis</h3>
                    <p class="mt-2 text-white">Our model analyzes the image for key biomarkers associated with diabetic retinopathy.</p>
                </div>
                <div class="relative z-10 text-white">
                    <div class="flex items-center justify-center h-20 w-20 rounded-full bg-primary-light text-primary mx-auto ">
                        <svg class="h-10 w-10" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>
                    </div>
                    <h3 class="mt-4 text-xl font-semibold text-white">3. View Report</h3>
                    <p class="mt-2 text-white">Access a clear, actionable report with risk categorization and decision support.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-6 bg-gray-50 text-center">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 mb-12">
            <h2 class="text-2xl font-semibold text-gray-800">Ready to get started?</h2>
            <p class="mt-3 text-gray-600">Access the secure clinician portal to manage patients or upload a new scan.</p>
            <div class="mt-8 flex flex-wrap  justify-center gap-4 ">
                <a href="{{ url_for('patient_history') }}" class="inline-block px-8 py-3 text-base font-medium rounded-md text-white bg-green-700 hover:bg-green-900 transition shadow-lg hover:scale-105">
                    Patient List
                </a>
                <a href="{{ url_for('analyze_image') }}" class="inline-block px-8 py-3 text-base font-medium rounded-md text-white bg-blue-500 hover:bg-blue-700 transition shadow-lg hover:scale-105">
                    Scan Patient
                </a>
            </div>
        </div>
    </section>
{% endblock content %}

{% block scripts %}
{% endblock scripts %}